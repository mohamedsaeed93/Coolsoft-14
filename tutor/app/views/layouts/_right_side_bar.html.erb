	<!-- # [View Layout - Story 1.2]
	# General layout for right side bar -->
<!-- 
	Author: Ahmed Elassuty
	right nagigation bar 
-->
<!-- 
	Author:Rania Abdel Fattah
 -->
<!-- 		<div style="padding-top: 30px; style="width:100%;""> -->
	<div class="list-group">
		<a href="/" class="list-group-item selected"><span class="rectangle profile"></span	>Profile</a>
		<a href="#" class="list-group-item"><span class="rectangle dashboard"></span>Dashboard</a>
		<a href="/courses" class="list-group-item"><span class="rectangle courses"></span>Courses</a>
		<a href="#" class="list-group-item"><span class="rectangle settings"></span>Settings</a>
	</div>
<!--end of Rania's story -->

	<% if student_signed_in? %>
		<div class="list-group table">
			<% next_problems_to_solve = current_student.get_next_problems_to_solve %> 
			<div class="panel-group" id="accordion">
	  			<div class="panel panel-default">
					<% if next_problems_to_solve != nil then %>
							<div class="panel-heading">
								<a  data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
									Next problems to solve
								</a>
							</div>
							<div id="collapseOne" class="panel-collapse collapse in">
								<div class="panel-body">
									<% next_problems_to_solve.each do |key , value| %>
										<div class="list-group-item">
											<div>
												<%= link_to value.title, 
														controller: "/problems", 
														action: "show", 
														id: value.id %>
											</div>
											<div>
												<%= key %>
											</div>
										</div>
									<% end %>
								</div>
							</div>
					<% else %>
					You Have No Problems to solve, Please Subscribe to some courses
					<% end %>
				</div>
			</div>
		</div>
		<!--
		# [Get Recommended Problems - Story 5.6]
		# Displays the recommende problem hash in a table as [recommender_name | problem]
		# Author: Mohab Ghanim
		-->
		<div class="list-group table">
			<div class="panel-group" id="accordion">
	  			<div class="panel panel-default">
					<% recommended_problems = current_student.getClassMatesRecommendations 
					if recommended_problems != nil then %>
						<div class="panel-heading">
							<a  data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
								Classmates Recommendations
							</a>
						</div>
						<div id="collapseTwo" class="panel-collapse collapse in">
							<div class="panel-body">
								<% recommended_problems.each do |key , value| %>
									<div class="list-group-item">
										<div>
											<%= link_to value["problem_title"], 
													controller: "/problems", 
													action: "show", 
													id: key %>
										</div>
										<div>
											<%= value["recommender_name"] %>
										</div>
									</div>
								<% end %>
							</div>
						</div>	
					<% end %>
				</div>
			</div>
		</div>
		
		<div class="list-group table">
			<table class="table table-striped table-bordered table-responsive">
				<caption><b>System Recommendations<b></caption>
				<tr class="list-group-item">
					<td style = "text-align : center">
					<%= render "problems/system_recommendation" if student_signed_in? %>
					</td>
				</tr>
			</table>
		</div>
	<% end %>
</div>

